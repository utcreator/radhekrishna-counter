<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Radhe Krishna Counter</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#3b82f6">
<style>
:root{ --bg:#ffffff; --card:#ffffff; --text:#0f172a; --accent:#3b82f6; }
body.dark{--bg:#071125;--card:#07203a;--text:#e6f0ff;--accent:#60a5fa;}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  display:flex;
  flex-direction:column;
  min-height:100vh;
}
#appBox {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding-top: 40px;
  padding-bottom: 40px;
}
.counter-box{
  width:340px;
  background:var(--card);
  border-radius:18px;
  padding:28px;
  box-shadow:0 8px 30px rgba(59,130,246,0.08);
  text-align:center;
}
#count{font-size:4rem;margin:6px 0;user-select:none;}
.goal-label{color:var(--text);opacity:0.75;margin-top:6px;}
input[type=number]{width:88%;padding:8px;border-radius:8px;border:1px solid rgba(15,23,42,0.06);text-align:center;margin:8px 0;}
.progress-container{width:100%;height:14px;background:linear-gradient(180deg,#f0f7ff,#ffffff);border-radius:12px;box-shadow:inset 4px 4px 8px rgba(0,0,0,0.03);overflow:hidden;margin:8px 0;}
.progress-bar{height:100%;width:0%;background:var(--accent);border-radius:12px;transition:width 0.35s;}
.btn{padding:10px 22px;border-radius:999px;border:none;margin:8px;cursor:pointer;background:transparent;font-weight:600;color:var(--accent);}
.reset{color:#ef4444;}
.toggle{font-size:0.9rem;color:rgba(15,23,42,0.6);margin-top:8px;}
.celebration{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);background:rgba(255,255,255,0.95);color:#0ea5e9;font-size:1.6rem;font-weight:700;border-radius:14px;padding:18px 28px;box-shadow:0 12px 40px rgba(59,130,246,0.12);opacity:0;transition:all .5s;z-index:20;}
.celebration.show{transform:translate(-50%,-50%) scale(1);opacity:1;}
#confettiCanvas{position:fixed;left:0;top:0;pointer-events:none;}
.small-note{font-size:0.9rem;color:rgba(15,23,42,0.45);margin-top:6px;}
.footer-text{
  margin-top:16px;
  font-size:0.8rem;
  color: rgba(15,23,42,0.55);
  text-align: center;
}
.footer-text a{color:var(--accent);text-decoration:none;}
</style>
</head>
<body>
<div id="appBox">
  <div class="counter-box">
    <div class="small-note">Tap anywhere (or press +) to count</div>
    <div id="count">0</div>
    <div class="goal-label">ðŸŽ¯ Goal</div>
    <input id="goalInput" type="number" min="1" value="100" />
    <div class="progress-container"><div id="progressBar" class="progress-bar"></div></div>
    <div>
      <button class="btn" id="incBtn">+ Count</button>
      <button class="btn reset" id="resetBtn">Reset</button>
    </div>
    <div class="toggle"><button class="btn" id="themeBtn">Toggle Theme</button></div>
  </div>
  <div class="footer-text">
    Developed by Utpal Singh - <a href="https://www.youtube.com/@CreateMarketArt" target="_blank">YouTube Channel</a>
  </div>
</div>
<div id="celebration" class="celebration">ðŸŒ¸ Radhe Krishna ðŸŒ¸</div>
<canvas id="confettiCanvas"></canvas>
<script>
let count = parseInt(localStorage.getItem('clickCount')) || 0;
let goal = parseInt(localStorage.getItem('clickGoal')) || 100;
const countEl = document.getElementById('count');
const progressBar = document.getElementById('progressBar');
const goalInput = document.getElementById('goalInput');
const celebration = document.getElementById('celebration');
const incBtn = document.getElementById('incBtn');
const resetBtn = document.getElementById('resetBtn');
const themeBtn = document.getElementById('themeBtn');
countEl.textContent = count;
goalInput.value = goal;
updateProgress();
function updateProgress(){ progressBar.style.width = goal>0 ? Math.min((count/goal)*100,100)+'%' : '0%'; }
function increment(){ count++; countEl.textContent=count; localStorage.setItem('clickCount',count); updateProgress(); if(count>=goal) triggerCelebration(); }
function reset(){ count=0; countEl.textContent=count; localStorage.setItem('clickCount',count); updateProgress(); }
function updateGoal(){ let val=parseInt(goalInput.value); if(val&&val>0){ goal=val; localStorage.setItem('clickGoal',goal); updateProgress(); } }
goalInput.addEventListener('input',updateGoal);
incBtn.addEventListener('click',increment);
resetBtn.addEventListener('click',reset);
document.body.addEventListener('click',e=>{ if(e.target.tagName.toLowerCase()==='input'||e.target.closest('button')) return; increment(); });
themeBtn.addEventListener('click',()=>{ document.body.classList.toggle('dark'); localStorage.setItem('theme',document.body.classList.contains('dark')?'dark':'light'); });
if(localStorage.getItem('theme')==='dark') document.body.classList.add('dark');
let confetti=[];
const canvas=document.getElementById('confettiCanvas'); const ctx=canvas.getContext('2d'); canvas.width=window.innerWidth; canvas.height=window.innerHeight;
function triggerCelebration(){ celebration.classList.add('show'); startConfetti(); setTimeout(()=> celebration.classList.remove('show'),3000); }
function startConfetti(){ confetti=[]; for(let i=0;i<120;i++){ confetti.push({ x:Math.random()*canvas.width, y:Math.random()*-canvas.height, r:Math.random()*6+2, d:Math.random()*5+2, color:'hsl('+Math.random()*360+',100%,50%)', tilt:Math.random()*10-5 }); } animateConfetti(); setTimeout(()=>confetti=[],3500); }
function animateConfetti(){ ctx.clearRect(0,0,canvas.width,canvas.height); confetti.forEach(c=>{ ctx.beginPath(); ctx.fillStyle=c.color; ctx.ellipse(c.x,c.y,c.r,c.r/2,c.tilt,0,Math.PI*2); ctx.fill(); c.y+=c.d; c.x+=Math.sin(c.tilt); if(c.y>canvas.height)c.y=-10; }); if(confetti.length>0) requestAnimationFrame(animateConfetti); }
window.addEventListener('resize',()=>{ canvas.width=window.innerWidth; canvas.height=window.innerHeight; });
if('serviceWorker' in navigator){ navigator.serviceWorker.register('service-worker.js').catch(()=>{}); }
</script>
</body>
</html>
